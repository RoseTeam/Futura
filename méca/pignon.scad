
// Module names are of the form poly_<inkscape-path-id>().  As a result,
// you can associate a polygon in this OpenSCAD program with the corresponding
// SVG element in the Inkscape document by looking for the XML element with
// the attribute id="inkscape-path-id".

// fudge value is used to ensure that subtracted solids are a tad taller
// in the z dimension than the polygon being subtracted from.  This helps
// keep the resulting .stl file manifold.
fudge = 0.1;

module poly_path3386(h)
{
  scale([25.4/90, -25.4/90, 1]) union()
  {
    difference()
    {
       linear_extrude(height=h)
         polygon([[-33.987888,392.697738],[-49.999310,390.711858],[-59.408529,387.759464],[-62.169828,385.621300],[-63.919597,382.882078],[-65.236568,375.121218],[-66.075386,368.025598],[-69.612998,363.966368],[-75.641290,360.729031],[-85.746118,357.799868],[-111.487888,350.589118],[-126.487888,345.885178],[-133.362888,343.136938],[-147.737888,337.085178],[-157.863998,332.485828],[-164.846488,330.701288],[-170.294780,330.708022],[-175.074868,333.991018],[-179.072268,338.673768],[-181.414938,341.632408],[-185.685749,343.830842],[-190.868628,343.507162],[-198.252756,340.299062],[-209.127318,333.844238],[-230.448268,319.469238],[-236.816338,315.216468],[-241.605968,311.992958],[-255.237888,300.282038],[-276.197684,280.902674],[-297.748008,257.716468],[-298.530303,255.253976],[-297.985943,251.665674],[-296.274140,247.498817],[-293.554108,243.300658],[-290.862888,238.172888],[-289.612888,236.466468],[-288.346295,235.346986],[-288.737353,232.323879],[-293.874928,222.578828],[-315.508307,189.979131],[-328.660668,166.464348],[-334.679480,155.121539],[-339.878817,147.272869],[-344.441620,142.685292],[-348.550827,141.125758],[-357.238139,141.989078],[-362.568678,142.272016],[-366.253002,139.918628],[-369.103974,135.468962],[-372.568990,127.608501],[-378.458152,108.966468],[-382.039590,95.216468],[-386.570862,75.937019],[-388.362674,61.883128],[-388.726847,58.082357],[-389.602112,56.258128],[-391.015580,52.091468],[-392.189853,40.841468],[-394.100952,19.812536],[-393.980025,5.169928],[-392.459216,0.609433],[-389.174474,-2.373812],[-382.078520,-4.778852],[-377.267507,-6.033233],[-373.305582,-9.551489],[-370.455026,-14.988789],[-368.978122,-22.000302],[-367.142514,-42.283532],[-364.946418,-60.813713],[-359.644638,-86.658532],[-356.658329,-102.349650],[-356.277549,-112.058453],[-357.144447,-115.253946],[-358.758987,-117.655211],[-364.359335,-121.010192],[-367.800635,-123.147476],[-370.286114,-126.319423],[-371.661458,-130.242452],[-371.772355,-134.632982],[-369.555734,-143.205617],[-366.366540,-149.158532],[-362.128939,-159.158532],[-352.481307,-181.485303],[-338.773760,-206.321192],[-335.862888,-211.619542],[-328.362888,-222.808232],[-320.862888,-234.171412],[-318.701653,-237.972675],[-313.739350,-244.218646],[-308.258081,-250.230726],[-304.539948,-253.330322],[-300.524921,-253.523447],[-294.107398,-250.884992],[-285.055768,-247.283532],[-281.342092,-248.322538],[-276.132718,-251.803957],[-258.457168,-268.280432],[-237.668561,-287.813311],[-216.589368,-304.158532],[-206.175438,-311.969502],[-201.863048,-314.782006],[-195.613048,-318.384906],[-176.487888,-328.778513],[-157.554116,-338.984662],[-152.454413,-342.806714],[-148.903618,-346.657918],[-146.227438,-351.212924],[-147.007528,-356.174767],[-147.980833,-360.671210],[-147.839054,-364.505963],[-146.374777,-367.833411],[-143.380588,-370.807942],[-138.649072,-373.583940],[-131.972817,-376.315793],[-111.956428,-382.264607],[-96.331428,-386.989347],[-84.376198,-389.037092],[-74.764528,-389.874043],[-71.563698,-385.163620],[-68.362888,-378.328482],[-67.222176,-376.015643],[-64.479608,-373.438631],[-61.985849,-371.922180],[-59.053443,-371.206801],[-46.042108,-371.596801],[-27.112888,-373.080517],[-0.174899,-374.079236],[26.316772,-373.378646],[34.262300,-372.876069],[39.695595,-373.884667],[43.189146,-376.646225],[45.315442,-381.402528],[47.481279,-386.406379],[50.460362,-390.478716],[54.883834,-393.323097],[63.140352,-393.666307],[78.512112,-391.668918],[101.012112,-386.023358],[122.438302,-379.673143],[130.204252,-376.693748],[136.903062,-374.385826],[145.387112,-371.033532],[153.824612,-367.761976],[162.574612,-364.062149],[173.637002,-359.062149],[181.305742,-356.033532],[184.043617,-354.282157],[185.819957,-349.486589],[186.493708,-342.334663],[185.923812,-333.514213],[185.856340,-328.301367],[188.189602,-324.624654],[194.854652,-319.062196],[220.163902,-300.145732],[223.550902,-298.533532],[230.072402,-293.846032],[237.935402,-287.099502],[253.512112,-273.610492],[261.945906,-266.212899],[267.661434,-262.993267],[273.095571,-263.319133],[280.685192,-266.558032],[288.844482,-269.783532],[292.121154,-267.792961],[297.220829,-263.319239],[301.780198,-258.609354],[303.435952,-255.910292],[303.295944,-255.114517],[303.937232,-254.783532],[315.745882,-240.621644],[328.084902,-222.973622],[330.587762,-219.783532],[331.637112,-217.970642],[333.199612,-215.158142],[336.146670,-211.890367],[339.305722,-206.033532],[343.711952,-197.283532],[353.700972,-177.908532],[361.785692,-163.741872],[362.887112,-161.480592],[363.290995,-160.413157],[364.299272,-160.508762],[365.163542,-160.673747],[365.103752,-159.645032],[365.520872,-155.134892],[365.820871,-152.622646],[364.319842,-150.759892],[359.720102,-145.094432],[357.384580,-142.015011],[355.102952,-140.318342],[352.964857,-138.790648],[351.048642,-135.973866],[349.151872,-128.908112],[351.299975,-117.356137],[357.863222,-93.533532],[364.197575,-63.379653],[367.887112,-36.197342],[368.854739,-32.841599],[371.287934,-29.544194],[374.482170,-27.032411],[377.732922,-26.033532],[381.391420,-25.082045],[386.064132,-22.762623],[390.366923,-19.877823],[392.915652,-17.230202],[394.100952,-2.053212],[392.307452,33.356571],[389.362822,61.466468],[385.449962,78.341468],[378.388502,107.226396],[375.838083,114.104678],[373.343672,117.892278],[370.376340,120.591025],[367.645231,122.023864],[364.698150,122.329223],[361.082902,121.645528],[356.582250,121.076053],[352.351451,121.830888],[348.623518,123.829426],[345.631462,126.991058],[342.887112,133.032538],[341.637112,135.841468],[340.387112,138.440078],[337.262112,145.216468],[334.137112,151.744528],[328.143839,165.435862],[320.781192,178.091078],[319.137112,181.375528],[317.262112,185.216468],[315.387112,187.942818],[311.684162,193.727268],[304.789602,204.591468],[302.602607,210.094453],[301.189431,215.933839],[300.776791,220.782478],[301.591402,223.313218],[306.461342,229.524908],[309.310295,234.804256],[309.192742,239.344808],[308.145957,243.047161],[306.214850,246.708069],[295.387112,260.520288],[263.520422,292.091468],[250.458152,303.987729],[242.398202,310.091388],[240.387112,311.407318],[231.637112,317.782388],[222.887112,324.118938],[214.865227,328.168506],[204.255962,331.207718],[201.056942,331.432934],[198.779370,330.922332],[193.453362,325.984268],[188.468610,321.307977],[184.584512,320.779658],[170.650860,324.930919],[165.120474,327.416670],[162.887112,329.261348],[161.738622,330.216468],[148.926122,335.732308],[126.637112,344.774008],[115.387112,348.945668],[112.262112,349.962968],[99.385522,353.567898],[91.160241,356.705014],[86.116402,360.368411],[83.582521,365.321631],[82.887112,372.328218],[82.624029,377.293749],[81.508472,380.619268],[79.050986,383.100175],[74.762112,385.531868],[63.867735,388.561793],[47.461562,390.937928],[32.887112,392.663488],[1.199152,393.666307],[-33.987888,392.697788]]);
       translate([0, 0, -fudge])
         linear_extrude(height=h+2*fudge)
           polygon([[26.252372,105.125118],[34.690422,103.966468],[39.035151,103.455062],[41.637112,102.091468],[44.882602,100.216468],[56.487952,95.216468],[67.166562,90.216468],[73.318872,84.591468],[77.739067,80.618812],[80.797832,78.966468],[82.273385,78.428606],[82.887112,77.135448],[83.571600,75.475957],[85.217272,74.057358],[93.281489,66.966307],[99.137112,60.010518],[101.620332,58.966468],[103.913926,57.923144],[105.848382,54.903968],[110.552662,47.740608],[113.199612,43.678108],[115.387112,40.216468],[117.887112,35.816628],[121.028092,26.186788],[123.590945,17.601082],[124.895312,7.152608],[126.260462,-5.185372],[127.153307,-13.654833],[125.809472,-23.373682],[124.137112,-31.860982],[121.814202,-40.770832],[117.276502,-52.569262],[115.392917,-57.429122],[113.974422,-59.057982],[113.160612,-59.155836],[112.730862,-60.334762],[110.315122,-68.138792],[108.515207,-71.113213],[106.524462,-72.675182],[104.366632,-74.489284],[102.165002,-78.069922],[95.235152,-87.908532],[84.957959,-99.184096],[81.637112,-103.757322],[75.765345,-107.349189],[64.449612,-112.390792],[61.637112,-114.826372],[61.261959,-115.551272],[60.359982,-115.391772],[57.649685,-115.947016],[52.926822,-118.390332],[43.651959,-122.414063],[31.373902,-125.422209],[17.831128,-127.099320],[4.762112,-127.129942],[-20.711670,-123.990051],[-29.596237,-121.629860],[-36.698118,-118.580862],[-44.833098,-116.033532],[-48.999588,-114.764592],[-53.955438,-111.752642],[-58.197253,-109.215908],[-62.755159,-105.336239],[-66.757669,-100.954667],[-69.333298,-96.912222],[-70.862888,-89.974722],[-72.136328,-85.260092],[-75.854488,-75.947592],[-81.456048,-58.682412],[-84.612888,-45.494912],[-86.145818,-40.000612],[-87.951618,-33.188112],[-89.106696,-24.313042],[-91.043118,-19.713512],[-92.379448,-15.651012],[-93.596288,-12.283532],[-93.797048,-10.361972],[-93.829575,-8.375973],[-94.943168,-6.299472],[-97.455118,0.216468],[-98.952438,7.716468],[-101.878959,20.100288],[-102.687098,30.113118],[-102.334379,36.258386],[-101.175388,38.654778],[-99.612888,40.751908],[-97.112888,44.591468],[-94.612888,48.535208],[-94.022825,49.722593],[-92.604148,50.216468],[-91.288903,50.726058],[-91.384288,52.272238],[-91.301995,54.309300],[-90.144711,56.507019],[-88.497601,58.078843],[-86.945828,58.238218],[-86.179178,58.429774],[-85.856678,59.830188],[-82.641258,65.841468],[-80.662133,67.941041],[-80.410348,67.722978],[-78.453734,69.050904],[-72.375758,74.867378],[-63.362888,84.872678],[-60.732088,87.508068],[-58.943494,88.406549],[-59.031078,87.646578],[-59.265019,86.685833],[-58.224388,86.720968],[-56.331638,88.758128],[-56.019138,91.558118],[-55.266183,92.370482],[-53.675388,92.439588],[-51.507370,92.807327],[-49.366728,94.337708],[-47.543320,95.802187],[-46.138038,96.011518],[-40.554598,98.368488],[-35.916154,100.702139],[-31.049478,102.041838],[-20.868158,104.735208],[-15.120311,106.168498],[-7.976978,106.130408],[2.887112,106.531908],[14.224757,106.932697],[26.252372,105.125118]]);
    }
  }
}

height = 95;

module pignon(h, s=.155)
{
scale([s,s,s])
poly_path3386(h);
}
ext_radius = 34.6/2;

module dents(){
rotate([0,0,-12])
translate([0,-.2,0]){
    union()
    {
        cylindre(12,15);
        pignon(height);
    }
}
}


module cylindre(r, h=1){
linear_extrude(height=h)
    circle(r);
}

module carreau(r, h=1){
linear_extrude(height=h)
    square(r,center=true);
}

module axe(sca=1.10, h=40)
{
    scale([sca, sca, sca])
    rotate([0,0,90])
    difference(){
        cylindre(5.6,h);
        translate([0,-8.6,0]){
        carreau(9.7,h);
        }
        
    }
}

difference()
{
    difference(){
        dents();
        axe();
    };
    translate([0,0,4])
        rotate([0,90,0])
            cylindre(r=2,h=35);
}
//cercle(ext_radius);

